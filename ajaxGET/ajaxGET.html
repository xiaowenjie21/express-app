<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX-GET</title>
    <script type="text/javascript">
        window.onload = initAll;
        function initAll(){
            var allImg = document.getElementsByTagName('img');
            for(var i = 0; i < allImg.length; i++){

                allImg[i].addEventListener('mouseover', getData, false);
            }
        }
        function getData(){
            var xhr = false;
            var alt = this.alt;
            xhr = new XMLHttpRequest();
            var url = "data?alt=" + alt;
            xhr.open('GET', url, true);
            xhr.addEventListener('readystatechange', xhrchange, false);
            xhr.send();

        }
        function xhrchange(){
            if(this.readyState == 4){
                if(this.status == 200){
                    var trueor=document.getElementById('responseText').innerHTML = this.responseText;
                    if(trueor){
                        alert('验证成功');
                        window.location.href='http://localhost:3000/jinggao';
                    }
                }
            }
        }

    </script>
    <style type="text/css">
        img{
            width:200px;
            height:200px;
            margin:10px;
        }
    </style>
</head>
<body>
<img src="http://i3.s2.dpfile.com/pc/73b05b8d4e66abdcba54dcf7d0d6b25e%28700x700%29/thumb.jpg" alt="xiadao"/>
<img src="http://i3.s2.dpfile.com/pc/73b05b8d4e66abdcba54dcf7d0d6b25e%28700x700%29/thumb.jpg" alt="jita"/>
<img src="http://i3.s2.dpfile.com/pc/73b05b8d4e66abdcba54dcf7d0d6b25e%28700x700%29/thumb.jpg" alt="youxi"/>
<div id="responseText"></div>
</body>
</html>